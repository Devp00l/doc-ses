suggestions on http://docserv.suse.de/documents/Storage_3/ses-admin/html/cha.ceph.install.html#ceph.install.saltstack
-------------------------

---
also you might want to state how to create your own salt keys -> eg
 salt '*'  sesceph.keyring_admin_create
----
also please explain the '*'
------ 
also maybe soem brerakdown of the commands in the sls file might be nice -> but I do intend to change these in the future so this is low priority 
correection -> please create keyrings this way 
salt '*'  sesceph.keyring_create keyring_type=admin
will update the sls file upstream
Včera, 11∶20
----
also please include this 
To show sesceph method:
    salt "ceph-node*" sesceph -d
All API methods should provide documentation. To list all runners methods
available in your salt system please run:
    salt-run doc.execution

notes on auth key management
---------------------------
salt keys should be created on minions?
and there are some by default?
oms101	no detault
you shodul create the keys 
using salt once ever
yuou can use the salt command
grab the seacret 
then use the save method to distribute them 
tbazant	salt '*'  sesceph.keyring_create keyring_type=admin ?
oms101	is fine
will return the result generated from each node
each node will treturn a different answer
any answer is acceptable
but if the key already exists 
it will return the previous version 
tbazant	the command is run from the master?
oms101	yes
but returns from the nodes
tbazant	what does '*' mean? all minions?
oms101	yes
tbazant	salt-minion must already be runnin, right?
oms101	yes
tbazant	sesceph.keyring_create generates key files on minions if they dont exist? the key is used for enctypted communication?
oms101	yes
tbazant	and 'salt-key --accept-all' must be run after 'esceph.keyring_create' ?
oms101	and the types ift can have are mon admin rgw osd mds
no these are cep[hj keys 
not salt keys
no these are ceph keys 
tbazant	oh, i got it, thanks
oms101	np
tbazant	salt-ceph must be installed already
oms101	on the master 
tbazant	yes
oms101	and th4e details syncronised to minions
tbazant	salt has its own keys for encrypted communication
with minions
oms101	yes
tbazant	keyring_type=osd will create/distribute keys to osds only?
oms101	yes
tbazant	and 'admin' does what?
oms101	admin is the key you as an admin uses to admin the server
normally on only a few nodes
this key allows full control of ceph
typically you might install this only on the mon nodes
tbazant	'admin' has toplevel privileges over ceph cluster, the others are limited ?
oms101	yes
the mon keyring is only wanted / needed on the mon nodes
the mon keyring can be used to generate an admin keyring
thats the only execption
tbazant	keyring deserve a separate section, it's not salt-related
oms101	yes
but salt stuff shoudl referance it
thier are bugs currewntly in salt keyring generation that I am fixingf as we speak
so for examples use ceph-deploy at this moment
will be fixed before release
oh and one more thing
the keyrings osd, rgw and mds
are not like other keyrings
these have profiles
ie they can be used to generate other keyrings 
that are per service
so you need them to create keyrings for osd's mds and rgw
these service's prepare the keyring for the service using the bootstrap keyrings  osd, rgw and mds
you can list the keyrins on a runnign cluster with 
ceph auth list
tbazant	http://docs.ceph.com/docs/master/rados/configuration/auth-config-ref/#manual-deployment
is this what we're talking about?
oms101	this is a heap of shit you can do better 
misses out the pouintsa I have told you
look at a ceph-deploy cluietr
eg
client.bootstrap-mds
        key: AQA7OP5WSqzuMBAAEMrLhs+gdp8+cfJMn0sO9w==
        caps: [mon] allow profile bootstrap-mds
client.bootstrap-osd
        key: AQA7OP5WV9+jFRAAKxUe+ZKH5dIjlj1dMu97NA==
        caps: [mon] allow profile bootstrap-osd
client.bootstrap-rgw
        key: AQA7OP5W2ppgIRAAmGFCaFIiJWCGF8wFsDrebw==
        caps: [mon] allow profile bootstrap-rgw
tbazant	is cephx authentication required within ceph cluster?
oms101	no 
but ceph shoudl not be used without 
tbazant	and default is yes or no?
oms101	default is now yes
was no a long time ago before sesceph 1
tbazant	the manual does not deal much with authentication right now...
'sesceph' is suseism?
oms101	it will probably be changed to ceph before release
but it is currently sesceph
please make it an entitiy
tbazant	ok
oms101	http://comments.gmane.org/gmane.comp.file-systems.ceph.devel/30552

what sesceph does:
------------------
https://gitlab.suse.de/ceph/documentation/blob/master/ceph-by-hand-install.txt
