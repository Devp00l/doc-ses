<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="storage.ceph.cluster">
	<title>&ceph; Cluster Administration</title>
<para>
The chapter gives details about basic administration tasks that you may need to perform on your cluster deployed by using <command>ceph-deploy</command>. The <command>ceph-deploy</command> is a command line utility that provides you with a wide range of subcommands to administrate the &ceph; cluster. Most of the tasks can be performed without the need to stop your cluster. 
</para>
<para>
The general <command>ceph-deply</command> syntax is the following:
</para>
<screen>ceph-deploy <replaceable>subcommands</replaceable> <replaceable>options</replaceable></screen>

<para>
   A list of selected <command>ceph-deploy</command> subcommands follows.
  </para>
<itemizedlist>
	<listitem>		
		<para>
		<command>gatherkeys</command>
		</para>
	</listitem>
	<listitem>		
		<para>
		<command>mon add</command>
		</para>
	</listitem>
	<listitem>		
		<para>
		<command>osd prepare</command>
		</para>
	</listitem>
	<listitem>		
		<para>
		<command>osd activate</command>
		</para>
	</listitem>
	<listitem>		
		<para>
		<command>rgw prepare/activate/create</command>
		</para>
	</listitem>
	<listitem>
	<para>
		<command>purge, purgedata, forgetkeys</command>
	</para>
	</listitem>	
</itemizedlist>


<tip>
   <para>
    Administer &ceph; nodes with <command>ceph-deploy</command> from the admin
    node. Before administering them, always create a new temporary directory
    and <command>cd</command> into it. Then choose one monitor node and gather
    the authentication keys with the <command>gatherkeys</command> subcommand
    from it, and copy the <filename>/etc/ceph/ceph.conf</filename> file from
    the monitor node into the current local directory.
   </para>
<screen>&prompt.cephuser; mkdir ceph_tmp
&prompt.cephuser; cd ceph_tmp
&prompt.cephuser; ceph-deploy gatherkeys ceph_mon_host
&prompt.cephuser; scp ceph_mon_host:/etc/ceph/ceph.conf .</screen>
  </tip>

<sect1 xml:id="ceph.deploy.monitors.managment">
	<title>Monitors Managment by Using <command>ceph-deploy</command></title>
	<para>

</para>
	<sect2 xml:id="Adding.ceph.deploy.monitors">
		<title>Adding Monitors</title>
	</sect2>
	<sect2 xml:id="Removing.ceph.deploy.monitors">
		<title>Removing Monitors</title>
	</sect2>

</sect1>
<sect1 xml:id="ceph.deploy.OSD.managment">
	<title>OSDs Managment by Using <command>ceph-deploy</command></title>
	<para>
</para>
</sect1>

</chapter>
